<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fuchsia Mod Development Reference: ViewContainer Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fuchsia Mod Development Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Groups</span></a></li>
      <li class="current"><a href="annotated.html"><span>Interfaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Interface&#160;List</span></a></li>
      <li><a href="classes.html"><span>Interface&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Interface&#160;members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interface_view_container.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interface_view_container-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ViewContainer Interface Reference<div class="ingroups"><a class="el" href="group__mozart.html">Mozart</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a91f75e3bb5a0e0d002b5d42d12101ea4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_view_container.html#a91f75e3bb5a0e0d002b5d42d12101ea4">SetListener</a> (<a class="el" href="interface_view_container_listener.html">ViewContainerListener</a>?listener)</td></tr>
<tr class="separator:a91f75e3bb5a0e0d002b5d42d12101ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35c613cd53290fd6a98150d52fe7d10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_view_container.html#aa35c613cd53290fd6a98150d52fe7d10">AddChild</a> (uint32 child_key, <a class="el" href="interface_view_owner.html">ViewOwner</a> child_view_owner, handle&lt; eventpair &gt; host_import_token)</td></tr>
<tr class="separator:aa35c613cd53290fd6a98150d52fe7d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340222b616c6f4d0716520eba6703236"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_view_container.html#a340222b616c6f4d0716520eba6703236">RemoveChild</a> (uint32 child_key, <a class="el" href="interface_view_owner.html">ViewOwner</a> &amp;?transferred_view_owner)</td></tr>
<tr class="separator:a340222b616c6f4d0716520eba6703236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae181ffd981c98aa8dac62bdf6fc67906"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_view_container.html#ae181ffd981c98aa8dac62bdf6fc67906">SetChildProperties</a> (uint32 child_key, <a class="el" href="struct_view_properties.html">ViewProperties</a>?child_view_properties)</td></tr>
<tr class="separator:ae181ffd981c98aa8dac62bdf6fc67906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8cfe952bbb6ced0c9d60c8da0da9109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_view_container.html#ae8cfe952bbb6ced0c9d60c8da0da9109">RequestFocus</a> (uint32 child_key)</td></tr>
<tr class="separator:ae8cfe952bbb6ced0c9d60c8da0da9109"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="struct_a.html">A</a> view container is an interface exposed by |View| and |ViewTree| to manage their child views. Although |View| may have any number of children, a |ViewTree| can have at most one (its root view).</p>
<p>EMBEDDING</p>
<p>The following steps are required to embed another view as a child:</p>
<ol type="1">
<li>Obtain the |ViewOwner| belonging to the view you would like to embed. The means for doing this is not specified by the view system. You might create another view of your own to embed or connect to another application using a mechanism such as |ViewProvider| (or any suitable agreed-upon protocol) to create the view to embed.</li>
<li>Call |AddChild()| to add the view you would like to embed and assign it a unique key.</li>
<li>Call |SetChildProperties()| to provide layout parameters and other properties for the new child using the same key that was provided to |AddChild()|.</li>
<li>Watch for the child becoming unavailable, as reported by |OnChildUnavailable()|, which indicates that the child is no longer in a usable state (perhaps the application which provided it has stopped). When this happens, you are still responsible for calling |RemoveChild()| to remove the child and discard any state that your view has associated with it.</li>
</ol>
<p>VIEW PROPERTIES AND LAYOUT</p>
<p>The container controls the presentation of its children by setting |ViewProperties| for each of them. <a class="el" href="interface_view.html">View</a> properties include layout information and other parameters the child needs to know to participate in the view hierarchy.</p>
<p>The container must set properties for each of its children after adding them, as otherwise the children cannot be rendered (since they lack enough context to know what to draw). </p>

<p>Definition at line <a class="el" href="view__containers_8fidl_source.html#l00055">55</a> of file <a class="el" href="view__containers_8fidl_source.html">view_containers.fidl</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa35c613cd53290fd6a98150d52fe7d10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ViewContainer::AddChild </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>child_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_view_owner.html">ViewOwner</a>&#160;</td>
          <td class="paramname"><em>child_view_owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle&lt; eventpair &gt;&#160;</td>
          <td class="paramname"><em>host_import_token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the view referenced by |child_view_owner| as a child and assigns it the provided |child_key| to identify it among its children. The container may remove the child later by passing the same |child_key| to |RemoveChild()|.</p>
<p>This method takes ownership of the view.</p>
<p>It is important for the container to choose locally unique values for |child_key| to ensure that each child can be distinguished even as more children are added or removed. We recommend using a simple counter which is incremented on each (re-)addition.</p>
<p>If the child becomes unavailable at any time prior to being removed then an |OnChildUnavailable()| message will be sent.</p>
<p>If |child_view_owner| refers to a view which is already unavailable or if adding the view would create a cycle in the view tree then the call proceeds as if it succeeded but an |OnChildUnavailable()| message will be sent.</p>
<p>If |child_view_owner| refers to a view which already has a container or is the root of a view tree then an |OnChildUnavailable()| message will be sent to its old container or root and the the view will be (re-)added to its new container as usual. This special case also applies when the specified view is already a child of this view, in which case the behavior is similar to the view having been transferred to some other container and then back again.</p>
<p>Note that an unavailable child will remain in its container's list of children until its container explicitly calls |RemoveChild()| to remove it.</p>
<p>|host_import_token| is an import token which the view manager will use to import the node to which the child view's content should be attached.</p>
<p>To establish the graphical embedding relation, the container view must create an event pair, bind one endpoint to an |ExportResourceOp| associated with the node to which the child's content nodes will be attached as descendants, and pass the other endpoint to this method as |host_import_token|.</p>
<p>It is an error to add a view whose |child_key| already appears in the view's list of children; the connection will be closed.</p>
<p>It is an error to add more than one child to a |ViewTree|'s container; it can only have at most one child (its root). </p>

</div>
</div>
<a class="anchor" id="a340222b616c6f4d0716520eba6703236"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ViewContainer::RemoveChild </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>child_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_view_owner.html">ViewOwner</a> &amp;?&#160;</td>
          <td class="paramname"><em>transferred_view_owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the view referenced by |child_key| from the view's list of children.</p>
<p>If |transferred_view_owner| is not null, associates it with the previously added child to allow it to be transferred elsewhere or closes the |transferred_view_owner| channel if there was none.</p>
<p>It is an error to remove a view whose |child_key| does not appear in the container's list of children; the connection will be closed. </p>

</div>
</div>
<a class="anchor" id="ae8cfe952bbb6ced0c9d60c8da0da9109"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ViewContainer::RequestFocus </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>child_key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_request.html">Request</a> the child view to get input focus for key events. </p>

</div>
</div>
<a class="anchor" id="ae181ffd981c98aa8dac62bdf6fc67906"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ViewContainer::SetChildProperties </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>child_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_view_properties.html">ViewProperties</a>?&#160;</td>
          <td class="paramname"><em>child_view_properties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets view properties for the child, such as layout constraints.</p>
<p>This method must be called at least once after a child is added to set the view's properties before it can be rendered. Rendering for children without properties is blocked until properties are set.</p>
<p>The child will receive the new properties along with a scene version which it should apply to the first scene update which includes the effects of the property change.</p>
<p>The |child_scene_version| specifies the version number which the child should use when publishing scene updates which incorporate the new properties. May be |kSceneVersionNone| if the version number is not important (meaning that there is no need to coordinate the scene updates with the child).</p>
<p>The |child_view_properties| specifies the properties for the child, or null to remove the properties from the child which will cause rendering of the child's scene to be blocked until new properties are set.</p>
<p>It is an error to specify a |child_key| that does not appear in the container's list of children; the connection will be closed.</p>
<p>It is an error to specify malformed |child_view_properties| such as invalid layout properties; the connection will be closed. </p>

</div>
</div>
<a class="anchor" id="a91f75e3bb5a0e0d002b5d42d12101ea4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ViewContainer::SetListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_view_container_listener.html">ViewContainerListener</a>?&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the view container listener, or null to remove. </p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>/usr/local/google/home/gregsimon/fuchsia/garnet/public/lib/ui/views/fidl/<a class="el" href="view__containers_8fidl_source.html">view_containers.fidl</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface_view_container.html">ViewContainer</a></li>
    <li class="footer">Copyright 2017 The Fuchsia Project Authors.</li>
  </ul>
</div>
</body>
</html>
